{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\s0ares\\\\clinicadentaria_ai2\\\\client\\\\src\\\\views\\\\cliente\\\\ClienteAgendamentosPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport AuthService from '../../services/auth.service';\nimport authHeader from '../../services/auth-header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n_c = Container;\nconst AppointmentsContainer = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  padding: 2rem;\n`;\n_c2 = AppointmentsContainer;\nconst ScheduleContainer = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  padding: 2rem;\n`;\n_c3 = ScheduleContainer;\nconst SectionTitle = styled.h3`\n  font-size: 1.25rem;\n  color: #2c3e50;\n  margin-bottom: 1.5rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid #ecf0f1;\n`;\n_c4 = SectionTitle;\nconst AppointmentList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n_c5 = AppointmentList;\nconst AppointmentItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.25rem;\n  border-radius: 8px;\n  background-color: #f8f9fa;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n  \n  .appointment-info {\n    display: flex;\n    align-items: center;\n    gap: 1.5rem;\n    \n    @media (max-width: 576px) {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n    \n    .date-time {\n      min-width: 100px;\n      text-align: center;\n      \n      .date {\n        font-weight: 600;\n        color: #3498db;\n      }\n      \n      .time {\n        margin-top: 0.25rem;\n        font-size: 0.875rem;\n        color: #7f8c8d;\n      }\n    }\n    \n    .details {\n      .service {\n        font-weight: 500;\n        margin-bottom: 0.25rem;\n      }\n      \n      .notes {\n        font-size: 0.875rem;\n        color: #7f8c8d;\n      }\n    }\n  }\n  \n  .status-actions {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    \n    .status {\n      padding: 0.25rem 0.75rem;\n      border-radius: 50px;\n      font-size: 0.75rem;\n      font-weight: 600;\n      text-transform: uppercase;\n      \n      &.confirmado {\n        background-color: #e8f5e9;\n        color: #2e7d32;\n      }\n      \n      &.pendente {\n        background-color: #fff8e1;\n        color: #f57f17;\n      }\n      \n      &.cancelado {\n        background-color: #ffebee;\n        color: #c62828;\n      }\n    }\n  }\n`;\n_c6 = AppointmentItem;\nconst EmptyState = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1rem;\n  text-align: center;\n  \n  i {\n    font-size: 3rem;\n    color: #bdc3c7;\n    margin-bottom: 1rem;\n  }\n  \n  h3 {\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n    color: #2c3e50;\n  }\n  \n  p {\n    color: #7f8c8d;\n    margin-bottom: 1.5rem;\n  }\n`;\n_c7 = EmptyState;\nconst Button = styled.button`\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n  \n  background-color: ${props => props.danger ? '#e74c3c' : '#3498db'};\n  color: white;\n  \n  &:hover {\n    background-color: ${props => props.danger ? '#c0392b' : '#2980b9'};\n  }\n`;\n_c8 = Button;\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  max-width: 600px;\n  margin: 0 auto;\n`;\n_c9 = Form;\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n_c10 = FormGroup;\nconst Label = styled.label`\n  font-weight: 500;\n  color: #2c3e50;\n`;\n_c11 = Label;\nconst Input = styled.input`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n`;\n_c12 = Input;\nconst Select = styled.select`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  background-color: white;\n`;\n_c13 = Select;\nconst TextArea = styled.textarea`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n`;\n_c14 = TextArea;\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n_c15 = ButtonGroup;\nfunction ClienteAgendamentosPage() {\n  _s();\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [formData, setFormData] = useState({\n    dataHora: '',\n    servico: '',\n    observacoes: ''\n  });\n  const [servicos, setServicos] = useState(['Consulta Geral', 'Limpeza Dentária', 'Tratamento de Canal', 'Extração', 'Implante Dentário', 'Ortodontia', 'Clareamento Dental', 'Prótese Dentária']);\n  const [horarios, setHorarios] = useState([]);\n  const [dataAgendamento, setDataAgendamento] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const currentUser = AuthService.getCurrentUser();\n  useEffect(() => {\n    fetchAgendamentos();\n  }, []);\n  useEffect(() => {\n    if (dataAgendamento) {\n      gerarHorariosDisponiveis(dataAgendamento);\n    }\n  }, [dataAgendamento]);\n  const fetchAgendamentos = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/agendamentos/cliente`, {\n        headers: authHeader()\n      });\n      setAgendamentos(response.data || []);\n      setLoading(false);\n    } catch (error) {\n      console.error('Erro ao carregar agendamentos:', error);\n      setAgendamentos([]);\n      setLoading(false);\n    }\n  };\n  const gerarHorariosDisponiveis = async data => {\n    try {\n      // Em um cenário real, buscaríamos os horários disponíveis da API\n      // Por enquanto, vamos gerar horários fictícios\n      const horariosDisponiveis = [];\n      const dataObj = new Date(data);\n\n      // Verificar se é fim de semana\n      const diaSemana = dataObj.getDay();\n      if (diaSemana === 0 || diaSemana === 6) {\n        // Sábado ou domingo\n        for (let hora = 9; hora <= 12; hora++) {\n          horariosDisponiveis.push(`${hora}:00`);\n          if (hora < 12) horariosDisponiveis.push(`${hora}:30`);\n        }\n      } else {\n        // Dia de semana\n        for (let hora = 9; hora <= 18; hora++) {\n          if (hora !== 13) {\n            // Excluir horário de almoço\n            horariosDisponiveis.push(`${hora}:00`);\n            if (hora < 18) horariosDisponiveis.push(`${hora}:30`);\n          }\n        }\n      }\n\n      // Em um cenário real, verificaríamos quais horários já estão ocupados\n      // e os removeríamos da lista\n      setHorarios(horariosDisponiveis);\n    } catch (error) {\n      console.error('Erro ao gerar horários disponíveis:', error);\n      toast.error('Erro ao carregar horários disponíveis');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === 'data') {\n      setDataAgendamento(value);\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!dataAgendamento || !formData.hora || !formData.servico) {\n      toast.error('Por favor, preencha todos os campos obrigatórios');\n      return;\n    }\n    try {\n      setSubmitting(true);\n\n      // Combinar data e hora\n      const dataHora = new Date(`${dataAgendamento}T${formData.hora}`);\n      const agendamentoData = {\n        dataHora: dataHora.toISOString(),\n        servico: formData.servico,\n        observacoes: formData.observacoes,\n        estado: 'Pendente'\n      };\n      await axios.post(`${API_URL}/agendamentos`, agendamentoData, {\n        headers: authHeader()\n      });\n      toast.success('Consulta agendada com sucesso!');\n\n      // Limpar formulário\n      setFormData({\n        dataHora: '',\n        servico: '',\n        observacoes: ''\n      });\n      setDataAgendamento('');\n\n      // Atualizar lista de agendamentos\n      fetchAgendamentos();\n      setSubmitting(false);\n    } catch (error) {\n      console.error('Erro ao agendar consulta:', error);\n      toast.error('Erro ao agendar consulta. Por favor, tente novamente.');\n      setSubmitting(false);\n    }\n  };\n  const handleCancelAppointment = async id => {\n    if (window.confirm('Tem certeza que deseja cancelar este agendamento?')) {\n      try {\n        await axios.put(`${API_URL}/agendamentos/${id}/cancelar`, {}, {\n          headers: authHeader()\n        });\n        toast.success('Agendamento cancelado com sucesso');\n        fetchAgendamentos();\n      } catch (error) {\n        console.error('Erro ao cancelar agendamento:', error);\n        toast.error('Erro ao cancelar agendamento');\n      }\n    }\n  };\n  const getStatusClass = status => {\n    if (!status) return '';\n    console.log('Status recebido:', status);\n    switch (status.toLowerCase()) {\n      case 'confirmado':\n        return 'confirmado';\n      case 'pendente':\n        return 'pendente';\n      case 'cancelado':\n        return 'cancelado';\n      default:\n        return '';\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('pt-PT');\n  };\n  const formatTime = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('pt-PT', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Calcular a data mínima (hoje)\n  const today = new Date().toISOString().split('T')[0];\n\n  // Calcular a data máxima (3 meses a partir de hoje)\n  const maxDate = new Date();\n  maxDate.setMonth(maxDate.getMonth() + 3);\n  const maxDateString = maxDate.toISOString().split('T')[0];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(ScheduleContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n        children: \"Agendar Nova Consulta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"data\",\n            children: \"Data *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"date\",\n            id: \"data\",\n            name: \"data\",\n            value: dataAgendamento,\n            onChange: handleInputChange,\n            min: today,\n            max: maxDateString,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"hora\",\n            children: \"Hor\\xE1rio *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"hora\",\n            name: \"hora\",\n            value: formData.hora || '',\n            onChange: handleInputChange,\n            required: true,\n            disabled: !dataAgendamento,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecione um hor\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), horarios.map(horario => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: horario,\n              children: horario\n            }, horario, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"servico\",\n            children: \"Servi\\xE7o *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"servico\",\n            name: \"servico\",\n            value: formData.servico,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecione um servi\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), servicos.map(servico => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: servico,\n              children: servico\n            }, servico, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"observacoes\",\n            children: \"Observa\\xE7\\xF5es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n            id: \"observacoes\",\n            name: \"observacoes\",\n            value: formData.observacoes,\n            onChange: handleInputChange,\n            placeholder: \"Descreva qualquer informa\\xE7\\xE3o adicional relevante para a consulta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            disabled: submitting,\n            children: submitting ? 'Agendando...' : 'Agendar Consulta'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppointmentsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n        children: \"Meus Agendamentos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentList, {\n        children: loading ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Carregando agendamentos...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this) : agendamentos.length > 0 ? agendamentos.map(agendamento => /*#__PURE__*/_jsxDEV(AppointmentItem, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"appointment-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-time\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date\",\n                children: formatDate(agendamento.dataHora)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time\",\n                children: formatTime(agendamento.dataHora)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"service\",\n                children: agendamento.servico || 'Consulta Geral'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notes\",\n                children: agendamento.observacoes || 'Sem observações'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status ${getStatusClass(agendamento.estado)}`,\n              children: agendamento.estado\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 19\n            }, this), agendamento.estado.toLowerCase() === 'pendente' && /*#__PURE__*/_jsxDEV(Button, {\n              danger: true,\n              onClick: () => handleCancelAppointment(agendamento.id),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 17\n          }, this)]\n        }, agendamento.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"far fa-calendar-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Nenhuma consulta agendada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Voc\\xEA ainda n\\xE3o tem consultas agendadas.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 415,\n    columnNumber: 5\n  }, this);\n}\n_s(ClienteAgendamentosPage, \"WvRYl3OOlkOkQ7Igwa6PVseVsBU=\");\n_c16 = ClienteAgendamentosPage;\nexport default ClienteAgendamentosPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"AppointmentsContainer\");\n$RefreshReg$(_c3, \"ScheduleContainer\");\n$RefreshReg$(_c4, \"SectionTitle\");\n$RefreshReg$(_c5, \"AppointmentList\");\n$RefreshReg$(_c6, \"AppointmentItem\");\n$RefreshReg$(_c7, \"EmptyState\");\n$RefreshReg$(_c8, \"Button\");\n$RefreshReg$(_c9, \"Form\");\n$RefreshReg$(_c10, \"FormGroup\");\n$RefreshReg$(_c11, \"Label\");\n$RefreshReg$(_c12, \"Input\");\n$RefreshReg$(_c13, \"Select\");\n$RefreshReg$(_c14, \"TextArea\");\n$RefreshReg$(_c15, \"ButtonGroup\");\n$RefreshReg$(_c16, \"ClienteAgendamentosPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","toast","AuthService","authHeader","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","Container","div","_c","AppointmentsContainer","_c2","ScheduleContainer","_c3","SectionTitle","h3","_c4","AppointmentList","_c5","AppointmentItem","_c6","EmptyState","_c7","Button","button","props","danger","_c8","Form","form","_c9","FormGroup","_c10","Label","label","_c11","Input","input","_c12","Select","select","_c13","TextArea","textarea","_c14","ButtonGroup","_c15","ClienteAgendamentosPage","_s","agendamentos","setAgendamentos","loading","setLoading","formData","setFormData","dataHora","servico","observacoes","servicos","setServicos","horarios","setHorarios","dataAgendamento","setDataAgendamento","submitting","setSubmitting","currentUser","getCurrentUser","fetchAgendamentos","gerarHorariosDisponiveis","response","get","headers","data","error","console","horariosDisponiveis","dataObj","Date","diaSemana","getDay","hora","push","handleInputChange","e","name","value","target","handleSubmit","preventDefault","agendamentoData","toISOString","estado","post","success","handleCancelAppointment","id","window","confirm","put","getStatusClass","status","log","toLowerCase","formatDate","dateString","date","toLocaleDateString","formatTime","toLocaleTimeString","hour","minute","today","split","maxDate","setMonth","getMonth","maxDateString","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","min","max","required","disabled","map","horario","placeholder","length","agendamento","className","onClick","_c16","$RefreshReg$"],"sources":["C:/Users/s0ares/clinicadentaria_ai2/client/src/views/cliente/ClienteAgendamentosPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport AuthService from '../../services/auth.service';\nimport authHeader from '../../services/auth-header';\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst AppointmentsContainer = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  padding: 2rem;\n`;\n\nconst ScheduleContainer = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  padding: 2rem;\n`;\n\nconst SectionTitle = styled.h3`\n  font-size: 1.25rem;\n  color: #2c3e50;\n  margin-bottom: 1.5rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid #ecf0f1;\n`;\n\nconst AppointmentList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst AppointmentItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.25rem;\n  border-radius: 8px;\n  background-color: #f8f9fa;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n  \n  .appointment-info {\n    display: flex;\n    align-items: center;\n    gap: 1.5rem;\n    \n    @media (max-width: 576px) {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n    \n    .date-time {\n      min-width: 100px;\n      text-align: center;\n      \n      .date {\n        font-weight: 600;\n        color: #3498db;\n      }\n      \n      .time {\n        margin-top: 0.25rem;\n        font-size: 0.875rem;\n        color: #7f8c8d;\n      }\n    }\n    \n    .details {\n      .service {\n        font-weight: 500;\n        margin-bottom: 0.25rem;\n      }\n      \n      .notes {\n        font-size: 0.875rem;\n        color: #7f8c8d;\n      }\n    }\n  }\n  \n  .status-actions {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    \n    .status {\n      padding: 0.25rem 0.75rem;\n      border-radius: 50px;\n      font-size: 0.75rem;\n      font-weight: 600;\n      text-transform: uppercase;\n      \n      &.confirmado {\n        background-color: #e8f5e9;\n        color: #2e7d32;\n      }\n      \n      &.pendente {\n        background-color: #fff8e1;\n        color: #f57f17;\n      }\n      \n      &.cancelado {\n        background-color: #ffebee;\n        color: #c62828;\n      }\n    }\n  }\n`;\n\nconst EmptyState = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1rem;\n  text-align: center;\n  \n  i {\n    font-size: 3rem;\n    color: #bdc3c7;\n    margin-bottom: 1rem;\n  }\n  \n  h3 {\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n    color: #2c3e50;\n  }\n  \n  p {\n    color: #7f8c8d;\n    margin-bottom: 1.5rem;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n  \n  background-color: ${props => props.danger ? '#e74c3c' : '#3498db'};\n  color: white;\n  \n  &:hover {\n    background-color: ${props => props.danger ? '#c0392b' : '#2980b9'};\n  }\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  max-width: 600px;\n  margin: 0 auto;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  font-weight: 500;\n  color: #2c3e50;\n`;\n\nconst Input = styled.input`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n`;\n\nconst Select = styled.select`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  background-color: white;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n\nfunction ClienteAgendamentosPage() {\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [formData, setFormData] = useState({\n    dataHora: '',\n    servico: '',\n    observacoes: ''\n  });\n  const [servicos, setServicos] = useState([\n    'Consulta Geral',\n    'Limpeza Dentária',\n    'Tratamento de Canal',\n    'Extração',\n    'Implante Dentário',\n    'Ortodontia',\n    'Clareamento Dental',\n    'Prótese Dentária'\n  ]);\n  const [horarios, setHorarios] = useState([]);\n  const [dataAgendamento, setDataAgendamento] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  \n  const currentUser = AuthService.getCurrentUser();\n\n  useEffect(() => {\n    fetchAgendamentos();\n  }, []);\n\n  useEffect(() => {\n    if (dataAgendamento) {\n      gerarHorariosDisponiveis(dataAgendamento);\n    }\n  }, [dataAgendamento]);\n\n  const fetchAgendamentos = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/agendamentos/cliente`, { \n        headers: authHeader()\n      });\n      setAgendamentos(response.data || []);\n      setLoading(false);\n    } catch (error) {\n      console.error('Erro ao carregar agendamentos:', error);\n      setAgendamentos([]);\n      setLoading(false);\n    }\n  };\n\n  const gerarHorariosDisponiveis = async (data) => {\n    try {\n      // Em um cenário real, buscaríamos os horários disponíveis da API\n      // Por enquanto, vamos gerar horários fictícios\n      const horariosDisponiveis = [];\n      const dataObj = new Date(data);\n      \n      // Verificar se é fim de semana\n      const diaSemana = dataObj.getDay();\n      if (diaSemana === 0 || diaSemana === 6) {\n        // Sábado ou domingo\n        for (let hora = 9; hora <= 12; hora++) {\n          horariosDisponiveis.push(`${hora}:00`);\n          if (hora < 12) horariosDisponiveis.push(`${hora}:30`);\n        }\n      } else {\n        // Dia de semana\n        for (let hora = 9; hora <= 18; hora++) {\n          if (hora !== 13) { // Excluir horário de almoço\n            horariosDisponiveis.push(`${hora}:00`);\n            if (hora < 18) horariosDisponiveis.push(`${hora}:30`);\n          }\n        }\n      }\n      \n      // Em um cenário real, verificaríamos quais horários já estão ocupados\n      // e os removeríamos da lista\n      setHorarios(horariosDisponiveis);\n    } catch (error) {\n      console.error('Erro ao gerar horários disponíveis:', error);\n      toast.error('Erro ao carregar horários disponíveis');\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    if (name === 'data') {\n      setDataAgendamento(value);\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!dataAgendamento || !formData.hora || !formData.servico) {\n      toast.error('Por favor, preencha todos os campos obrigatórios');\n      return;\n    }\n    \n    try {\n      setSubmitting(true);\n      \n      // Combinar data e hora\n      const dataHora = new Date(`${dataAgendamento}T${formData.hora}`);\n      \n      const agendamentoData = {\n        dataHora: dataHora.toISOString(),\n        servico: formData.servico,\n        observacoes: formData.observacoes,\n        estado: 'Pendente'\n      };\n      \n      await axios.post(\n        `${API_URL}/agendamentos`, \n        agendamentoData,\n        { headers: authHeader() }\n      );\n      \n      toast.success('Consulta agendada com sucesso!');\n      \n      // Limpar formulário\n      setFormData({\n        dataHora: '',\n        servico: '',\n        observacoes: ''\n      });\n      setDataAgendamento('');\n      \n      // Atualizar lista de agendamentos\n      fetchAgendamentos();\n      setSubmitting(false);\n    } catch (error) {\n      console.error('Erro ao agendar consulta:', error);\n      toast.error('Erro ao agendar consulta. Por favor, tente novamente.');\n      setSubmitting(false);\n    }\n  };\n\n  const handleCancelAppointment = async (id) => {\n    if (window.confirm('Tem certeza que deseja cancelar este agendamento?')) {\n      try {\n        await axios.put(\n          `${API_URL}/agendamentos/${id}/cancelar`, \n          {}, \n          { headers: authHeader() }\n        );\n        toast.success('Agendamento cancelado com sucesso');\n        fetchAgendamentos();\n      } catch (error) {\n        console.error('Erro ao cancelar agendamento:', error);\n        toast.error('Erro ao cancelar agendamento');\n      }\n    }\n  };\n\n  const getStatusClass = (status) => {\n    if (!status) return '';\n    \n    console.log('Status recebido:', status);\n    \n    switch (status.toLowerCase()) {\n      case 'confirmado':\n        return 'confirmado';\n      case 'pendente':\n        return 'pendente';\n      case 'cancelado':\n        return 'cancelado';\n      default:\n        return '';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('pt-PT');\n  };\n\n  const formatTime = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('pt-PT', { hour: '2-digit', minute: '2-digit' });\n  };\n\n  // Calcular a data mínima (hoje)\n  const today = new Date().toISOString().split('T')[0];\n  \n  // Calcular a data máxima (3 meses a partir de hoje)\n  const maxDate = new Date();\n  maxDate.setMonth(maxDate.getMonth() + 3);\n  const maxDateString = maxDate.toISOString().split('T')[0];\n\n  return (\n    <Container>\n      <ScheduleContainer>\n        <SectionTitle>Agendar Nova Consulta</SectionTitle>\n        \n        <Form onSubmit={handleSubmit}>\n          <FormGroup>\n            <Label htmlFor=\"data\">Data *</Label>\n            <Input \n              type=\"date\" \n              id=\"data\" \n              name=\"data\"\n              value={dataAgendamento}\n              onChange={handleInputChange}\n              min={today}\n              max={maxDateString}\n              required\n            />\n          </FormGroup>\n          \n          <FormGroup>\n            <Label htmlFor=\"hora\">Horário *</Label>\n            <Select \n              id=\"hora\" \n              name=\"hora\"\n              value={formData.hora || ''}\n              onChange={handleInputChange}\n              required\n              disabled={!dataAgendamento}\n            >\n              <option value=\"\">Selecione um horário</option>\n              {horarios.map(horario => (\n                <option key={horario} value={horario}>\n                  {horario}\n                </option>\n              ))}\n            </Select>\n          </FormGroup>\n          \n          <FormGroup>\n            <Label htmlFor=\"servico\">Serviço *</Label>\n            <Select \n              id=\"servico\" \n              name=\"servico\"\n              value={formData.servico}\n              onChange={handleInputChange}\n              required\n            >\n              <option value=\"\">Selecione um serviço</option>\n              {servicos.map(servico => (\n                <option key={servico} value={servico}>\n                  {servico}\n                </option>\n              ))}\n            </Select>\n          </FormGroup>\n          \n          <FormGroup>\n            <Label htmlFor=\"observacoes\">Observações</Label>\n            <TextArea \n              id=\"observacoes\" \n              name=\"observacoes\"\n              value={formData.observacoes}\n              onChange={handleInputChange}\n              placeholder=\"Descreva qualquer informação adicional relevante para a consulta\"\n            />\n          </FormGroup>\n          \n          <ButtonGroup>\n            <Button type=\"submit\" disabled={submitting}>\n              {submitting ? 'Agendando...' : 'Agendar Consulta'}\n            </Button>\n          </ButtonGroup>\n        </Form>\n      </ScheduleContainer>\n      \n      <AppointmentsContainer>\n        <SectionTitle>Meus Agendamentos</SectionTitle>\n        \n        <AppointmentList>\n          {loading ? (\n            <EmptyState>\n              <p>Carregando agendamentos...</p>\n            </EmptyState>\n          ) : agendamentos.length > 0 ? (\n            agendamentos.map(agendamento => (\n              <AppointmentItem key={agendamento.id}>\n                <div className=\"appointment-info\">\n                  <div className=\"date-time\">\n                    <div className=\"date\">{formatDate(agendamento.dataHora)}</div>\n                    <div className=\"time\">{formatTime(agendamento.dataHora)}</div>\n                  </div>\n                  <div className=\"details\">\n                    <div className=\"service\">{agendamento.servico || 'Consulta Geral'}</div>\n                    <div className=\"notes\">{agendamento.observacoes || 'Sem observações'}</div>\n                  </div>\n                </div>\n                <div className=\"status-actions\">\n                  <span className={`status ${getStatusClass(agendamento.estado)}`}>\n                    {agendamento.estado}\n                  </span>\n                  {agendamento.estado.toLowerCase() === 'pendente' && (\n                    <Button \n                      danger\n                      onClick={() => handleCancelAppointment(agendamento.id)}\n                    >\n                      Cancelar\n                    </Button>\n                  )}\n                </div>\n              </AppointmentItem>\n            ))\n          ) : (\n            <EmptyState>\n              <i className=\"far fa-calendar-alt\"></i>\n              <h3>Nenhuma consulta agendada</h3>\n              <p>Você ainda não tem consultas agendadas.</p>\n            </EmptyState>\n          )}\n        </AppointmentList>\n      </AppointmentsContainer>\n    </Container>\n  );\n}\n\nexport default ClienteAgendamentosPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,WAAW,MAAM,6BAA6B;AACrD,OAAOC,UAAU,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAE5E,MAAMC,SAAS,GAAGX,MAAM,CAACY,GAAG;AAC5B;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAJIF,SAAS;AAMf,MAAMG,qBAAqB,GAAGd,MAAM,CAACY,GAAG;AACxC;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GALID,qBAAqB;AAO3B,MAAME,iBAAiB,GAAGhB,MAAM,CAACY,GAAG;AACpC;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GALID,iBAAiB;AAOvB,MAAME,YAAY,GAAGlB,MAAM,CAACmB,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,YAAY;AAQlB,MAAMG,eAAe,GAAGrB,MAAM,CAACY,GAAG;AAClC;AACA;AACA;AACA,CAAC;AAACU,GAAA,GAJID,eAAe;AAMrB,MAAME,eAAe,GAAGvB,MAAM,CAACY,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACY,GAAA,GAlFID,eAAe;AAoFrB,MAAME,UAAU,GAAGzB,MAAM,CAACY,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACc,GAAA,GAxBID,UAAU;AA0BhB,MAAME,MAAM,GAAG3B,MAAM,CAAC4B,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsBC,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,SAAS,GAAG,SAAS;AACnE;AACA;AACA;AACA,wBAAwBD,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,SAAS,GAAG,SAAS;AACrE;AACA,CAAC;AAACC,GAAA,GAdIJ,MAAM;AAgBZ,MAAMK,IAAI,GAAGhC,MAAM,CAACiC,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,IAAI;AAQV,MAAMG,SAAS,GAAGnC,MAAM,CAACY,GAAG;AAC5B;AACA;AACA;AACA,CAAC;AAACwB,IAAA,GAJID,SAAS;AAMf,MAAME,KAAK,GAAGrC,MAAM,CAACsC,KAAK;AAC1B;AACA;AACA,CAAC;AAACC,IAAA,GAHIF,KAAK;AAKX,MAAMG,KAAK,GAAGxC,MAAM,CAACyC,KAAK;AAC1B;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GALIF,KAAK;AAOX,MAAMG,MAAM,GAAG3C,MAAM,CAAC4C,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GANIF,MAAM;AAQZ,MAAMG,QAAQ,GAAG9C,MAAM,CAAC+C,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPIF,QAAQ;AASd,MAAMG,WAAW,GAAGjD,MAAM,CAACY,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAJID,WAAW;AAMjB,SAASE,uBAAuBA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGxD,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACyD,OAAO,EAAEC,UAAU,CAAC,GAAG1D,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2D,QAAQ,EAAEC,WAAW,CAAC,GAAG5D,QAAQ,CAAC;IACvC6D,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGjE,QAAQ,CAAC,CACvC,gBAAgB,EAChB,kBAAkB,EAClB,qBAAqB,EACrB,UAAU,EACV,mBAAmB,EACnB,YAAY,EACZ,oBAAoB,EACpB,kBAAkB,CACnB,CAAC;EACF,MAAM,CAACkE,QAAQ,EAAEC,WAAW,CAAC,GAAGnE,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoE,eAAe,EAAEC,kBAAkB,CAAC,GAAGrE,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACsE,UAAU,EAAEC,aAAa,CAAC,GAAGvE,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMwE,WAAW,GAAGnE,WAAW,CAACoE,cAAc,CAAC,CAAC;EAEhDxE,SAAS,CAAC,MAAM;IACdyE,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAENzE,SAAS,CAAC,MAAM;IACd,IAAImE,eAAe,EAAE;MACnBO,wBAAwB,CAACP,eAAe,CAAC;IAC3C;EACF,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErB,MAAMM,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACFhB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMkB,QAAQ,GAAG,MAAMzE,KAAK,CAAC0E,GAAG,CAAC,GAAGpE,OAAO,uBAAuB,EAAE;QAClEqE,OAAO,EAAExE,UAAU,CAAC;MACtB,CAAC,CAAC;MACFkD,eAAe,CAACoB,QAAQ,CAACG,IAAI,IAAI,EAAE,CAAC;MACpCrB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOsB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDxB,eAAe,CAAC,EAAE,CAAC;MACnBE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMiB,wBAAwB,GAAG,MAAOI,IAAI,IAAK;IAC/C,IAAI;MACF;MACA;MACA,MAAMG,mBAAmB,GAAG,EAAE;MAC9B,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAACL,IAAI,CAAC;;MAE9B;MACA,MAAMM,SAAS,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;MAClC,IAAID,SAAS,KAAK,CAAC,IAAIA,SAAS,KAAK,CAAC,EAAE;QACtC;QACA,KAAK,IAAIE,IAAI,GAAG,CAAC,EAAEA,IAAI,IAAI,EAAE,EAAEA,IAAI,EAAE,EAAE;UACrCL,mBAAmB,CAACM,IAAI,CAAC,GAAGD,IAAI,KAAK,CAAC;UACtC,IAAIA,IAAI,GAAG,EAAE,EAAEL,mBAAmB,CAACM,IAAI,CAAC,GAAGD,IAAI,KAAK,CAAC;QACvD;MACF,CAAC,MAAM;QACL;QACA,KAAK,IAAIA,IAAI,GAAG,CAAC,EAAEA,IAAI,IAAI,EAAE,EAAEA,IAAI,EAAE,EAAE;UACrC,IAAIA,IAAI,KAAK,EAAE,EAAE;YAAE;YACjBL,mBAAmB,CAACM,IAAI,CAAC,GAAGD,IAAI,KAAK,CAAC;YACtC,IAAIA,IAAI,GAAG,EAAE,EAAEL,mBAAmB,CAACM,IAAI,CAAC,GAAGD,IAAI,KAAK,CAAC;UACvD;QACF;MACF;;MAEA;MACA;MACApB,WAAW,CAACe,mBAAmB,CAAC;IAClC,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3D5E,KAAK,CAAC4E,KAAK,CAAC,uCAAuC,CAAC;IACtD;EACF,CAAC;EAED,MAAMS,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAEhC,IAAIF,IAAI,KAAK,MAAM,EAAE;MACnBtB,kBAAkB,CAACuB,KAAK,CAAC;IAC3B,CAAC,MAAM;MACLhC,WAAW,CAAC;QACV,GAAGD,QAAQ;QACX,CAACgC,IAAI,GAAGC;MACV,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAME,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAChCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAElB,IAAI,CAAC3B,eAAe,IAAI,CAACT,QAAQ,CAAC4B,IAAI,IAAI,CAAC5B,QAAQ,CAACG,OAAO,EAAE;MAC3D1D,KAAK,CAAC4E,KAAK,CAAC,kDAAkD,CAAC;MAC/D;IACF;IAEA,IAAI;MACFT,aAAa,CAAC,IAAI,CAAC;;MAEnB;MACA,MAAMV,QAAQ,GAAG,IAAIuB,IAAI,CAAC,GAAGhB,eAAe,IAAIT,QAAQ,CAAC4B,IAAI,EAAE,CAAC;MAEhE,MAAMS,eAAe,GAAG;QACtBnC,QAAQ,EAAEA,QAAQ,CAACoC,WAAW,CAAC,CAAC;QAChCnC,OAAO,EAAEH,QAAQ,CAACG,OAAO;QACzBC,WAAW,EAAEJ,QAAQ,CAACI,WAAW;QACjCmC,MAAM,EAAE;MACV,CAAC;MAED,MAAM/F,KAAK,CAACgG,IAAI,CACd,GAAG1F,OAAO,eAAe,EACzBuF,eAAe,EACf;QAAElB,OAAO,EAAExE,UAAU,CAAC;MAAE,CAC1B,CAAC;MAEDF,KAAK,CAACgG,OAAO,CAAC,gCAAgC,CAAC;;MAE/C;MACAxC,WAAW,CAAC;QACVC,QAAQ,EAAE,EAAE;QACZC,OAAO,EAAE,EAAE;QACXC,WAAW,EAAE;MACf,CAAC,CAAC;MACFM,kBAAkB,CAAC,EAAE,CAAC;;MAEtB;MACAK,iBAAiB,CAAC,CAAC;MACnBH,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD5E,KAAK,CAAC4E,KAAK,CAAC,uDAAuD,CAAC;MACpET,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAM8B,uBAAuB,GAAG,MAAOC,EAAE,IAAK;IAC5C,IAAIC,MAAM,CAACC,OAAO,CAAC,mDAAmD,CAAC,EAAE;MACvE,IAAI;QACF,MAAMrG,KAAK,CAACsG,GAAG,CACb,GAAGhG,OAAO,iBAAiB6F,EAAE,WAAW,EACxC,CAAC,CAAC,EACF;UAAExB,OAAO,EAAExE,UAAU,CAAC;QAAE,CAC1B,CAAC;QACDF,KAAK,CAACgG,OAAO,CAAC,mCAAmC,CAAC;QAClD1B,iBAAiB,CAAC,CAAC;MACrB,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrD5E,KAAK,CAAC4E,KAAK,CAAC,8BAA8B,CAAC;MAC7C;IACF;EACF,CAAC;EAED,MAAM0B,cAAc,GAAIC,MAAM,IAAK;IACjC,IAAI,CAACA,MAAM,EAAE,OAAO,EAAE;IAEtB1B,OAAO,CAAC2B,GAAG,CAAC,kBAAkB,EAAED,MAAM,CAAC;IAEvC,QAAQA,MAAM,CAACE,WAAW,CAAC,CAAC;MAC1B,KAAK,YAAY;QACf,OAAO,YAAY;MACrB,KAAK,UAAU;QACb,OAAO,UAAU;MACnB,KAAK,WAAW;QACd,OAAO,WAAW;MACpB;QACE,OAAO,EAAE;IACb;EACF,CAAC;EAED,MAAMC,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAI5B,IAAI,CAAC2B,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACC,kBAAkB,CAAC,OAAO,CAAC;EACzC,CAAC;EAED,MAAMC,UAAU,GAAIH,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAI5B,IAAI,CAAC2B,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACG,kBAAkB,CAAC,OAAO,EAAE;MAAEC,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAU,CAAC,CAAC;EACjF,CAAC;;EAED;EACA,MAAMC,KAAK,GAAG,IAAIlC,IAAI,CAAC,CAAC,CAACa,WAAW,CAAC,CAAC,CAACsB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEpD;EACA,MAAMC,OAAO,GAAG,IAAIpC,IAAI,CAAC,CAAC;EAC1BoC,OAAO,CAACC,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EACxC,MAAMC,aAAa,GAAGH,OAAO,CAACvB,WAAW,CAAC,CAAC,CAACsB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAEzD,oBACE/G,OAAA,CAACK,SAAS;IAAA+G,QAAA,gBACRpH,OAAA,CAACU,iBAAiB;MAAA0G,QAAA,gBAChBpH,OAAA,CAACY,YAAY;QAAAwG,QAAA,EAAC;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC,eAElDxH,OAAA,CAAC0B,IAAI;QAAC+F,QAAQ,EAAEnC,YAAa;QAAA8B,QAAA,gBAC3BpH,OAAA,CAAC6B,SAAS;UAAAuF,QAAA,gBACRpH,OAAA,CAAC+B,KAAK;YAAC2F,OAAO,EAAC,MAAM;YAAAN,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpCxH,OAAA,CAACkC,KAAK;YACJyF,IAAI,EAAC,MAAM;YACX7B,EAAE,EAAC,MAAM;YACTX,IAAI,EAAC,MAAM;YACXC,KAAK,EAAExB,eAAgB;YACvBgE,QAAQ,EAAE3C,iBAAkB;YAC5B4C,GAAG,EAAEf,KAAM;YACXgB,GAAG,EAAEX,aAAc;YACnBY,QAAQ;UAAA;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACO,CAAC,eAEZxH,OAAA,CAAC6B,SAAS;UAAAuF,QAAA,gBACRpH,OAAA,CAAC+B,KAAK;YAAC2F,OAAO,EAAC,MAAM;YAAAN,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvCxH,OAAA,CAACqC,MAAM;YACLyD,EAAE,EAAC,MAAM;YACTX,IAAI,EAAC,MAAM;YACXC,KAAK,EAAEjC,QAAQ,CAAC4B,IAAI,IAAI,EAAG;YAC3B6C,QAAQ,EAAE3C,iBAAkB;YAC5B8C,QAAQ;YACRC,QAAQ,EAAE,CAACpE,eAAgB;YAAAwD,QAAA,gBAE3BpH,OAAA;cAAQoF,KAAK,EAAC,EAAE;cAAAgC,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC7C9D,QAAQ,CAACuE,GAAG,CAACC,OAAO,iBACnBlI,OAAA;cAAsBoF,KAAK,EAAE8C,OAAQ;cAAAd,QAAA,EAClCc;YAAO,GADGA,OAAO;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEZ,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eAEZxH,OAAA,CAAC6B,SAAS;UAAAuF,QAAA,gBACRpH,OAAA,CAAC+B,KAAK;YAAC2F,OAAO,EAAC,SAAS;YAAAN,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1CxH,OAAA,CAACqC,MAAM;YACLyD,EAAE,EAAC,SAAS;YACZX,IAAI,EAAC,SAAS;YACdC,KAAK,EAAEjC,QAAQ,CAACG,OAAQ;YACxBsE,QAAQ,EAAE3C,iBAAkB;YAC5B8C,QAAQ;YAAAX,QAAA,gBAERpH,OAAA;cAAQoF,KAAK,EAAC,EAAE;cAAAgC,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC7ChE,QAAQ,CAACyE,GAAG,CAAC3E,OAAO,iBACnBtD,OAAA;cAAsBoF,KAAK,EAAE9B,OAAQ;cAAA8D,QAAA,EAClC9D;YAAO,GADGA,OAAO;cAAA+D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEZ,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eAEZxH,OAAA,CAAC6B,SAAS;UAAAuF,QAAA,gBACRpH,OAAA,CAAC+B,KAAK;YAAC2F,OAAO,EAAC,aAAa;YAAAN,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChDxH,OAAA,CAACwC,QAAQ;YACPsD,EAAE,EAAC,aAAa;YAChBX,IAAI,EAAC,aAAa;YAClBC,KAAK,EAAEjC,QAAQ,CAACI,WAAY;YAC5BqE,QAAQ,EAAE3C,iBAAkB;YAC5BkD,WAAW,EAAC;UAAkE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACO,CAAC,eAEZxH,OAAA,CAAC2C,WAAW;UAAAyE,QAAA,eACVpH,OAAA,CAACqB,MAAM;YAACsG,IAAI,EAAC,QAAQ;YAACK,QAAQ,EAAElE,UAAW;YAAAsD,QAAA,EACxCtD,UAAU,GAAG,cAAc,GAAG;UAAkB;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU,CAAC,eAEpBxH,OAAA,CAACQ,qBAAqB;MAAA4G,QAAA,gBACpBpH,OAAA,CAACY,YAAY;QAAAwG,QAAA,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC,eAE9CxH,OAAA,CAACe,eAAe;QAAAqG,QAAA,EACbnE,OAAO,gBACNjD,OAAA,CAACmB,UAAU;UAAAiG,QAAA,eACTpH,OAAA;YAAAoH,QAAA,EAAG;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC,GACXzE,YAAY,CAACqF,MAAM,GAAG,CAAC,GACzBrF,YAAY,CAACkF,GAAG,CAACI,WAAW,iBAC1BrI,OAAA,CAACiB,eAAe;UAAAmG,QAAA,gBACdpH,OAAA;YAAKsI,SAAS,EAAC,kBAAkB;YAAAlB,QAAA,gBAC/BpH,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAlB,QAAA,gBACxBpH,OAAA;gBAAKsI,SAAS,EAAC,MAAM;gBAAAlB,QAAA,EAAEd,UAAU,CAAC+B,WAAW,CAAChF,QAAQ;cAAC;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC9DxH,OAAA;gBAAKsI,SAAS,EAAC,MAAM;gBAAAlB,QAAA,EAAEV,UAAU,CAAC2B,WAAW,CAAChF,QAAQ;cAAC;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D,CAAC,eACNxH,OAAA;cAAKsI,SAAS,EAAC,SAAS;cAAAlB,QAAA,gBACtBpH,OAAA;gBAAKsI,SAAS,EAAC,SAAS;gBAAAlB,QAAA,EAAEiB,WAAW,CAAC/E,OAAO,IAAI;cAAgB;gBAAA+D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACxExH,OAAA;gBAAKsI,SAAS,EAAC,OAAO;gBAAAlB,QAAA,EAAEiB,WAAW,CAAC9E,WAAW,IAAI;cAAiB;gBAAA8D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNxH,OAAA;YAAKsI,SAAS,EAAC,gBAAgB;YAAAlB,QAAA,gBAC7BpH,OAAA;cAAMsI,SAAS,EAAE,UAAUpC,cAAc,CAACmC,WAAW,CAAC3C,MAAM,CAAC,EAAG;cAAA0B,QAAA,EAC7DiB,WAAW,CAAC3C;YAAM;cAAA2B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf,CAAC,EACNa,WAAW,CAAC3C,MAAM,CAACW,WAAW,CAAC,CAAC,KAAK,UAAU,iBAC9CrG,OAAA,CAACqB,MAAM;cACLG,MAAM;cACN+G,OAAO,EAAEA,CAAA,KAAM1C,uBAAuB,CAACwC,WAAW,CAACvC,EAAE,CAAE;cAAAsB,QAAA,EACxD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA,GAvBca,WAAW,CAACvC,EAAE;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAwBnB,CAClB,CAAC,gBAEFxH,OAAA,CAACmB,UAAU;UAAAiG,QAAA,gBACTpH,OAAA;YAAGsI,SAAS,EAAC;UAAqB;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvCxH,OAAA;YAAAoH,QAAA,EAAI;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClCxH,OAAA;YAAAoH,QAAA,EAAG;UAAuC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC;MACb;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACc,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACf,CAAC;AAEhB;AAAC1E,EAAA,CA9TQD,uBAAuB;AAAA2F,IAAA,GAAvB3F,uBAAuB;AAgUhC,eAAeA,uBAAuB;AAAC,IAAAtC,EAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAK,GAAA,EAAAG,GAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAA4F,IAAA;AAAAC,YAAA,CAAAlI,EAAA;AAAAkI,YAAA,CAAAhI,GAAA;AAAAgI,YAAA,CAAA9H,GAAA;AAAA8H,YAAA,CAAA3H,GAAA;AAAA2H,YAAA,CAAAzH,GAAA;AAAAyH,YAAA,CAAAvH,GAAA;AAAAuH,YAAA,CAAArH,GAAA;AAAAqH,YAAA,CAAAhH,GAAA;AAAAgH,YAAA,CAAA7G,GAAA;AAAA6G,YAAA,CAAA3G,IAAA;AAAA2G,YAAA,CAAAxG,IAAA;AAAAwG,YAAA,CAAArG,IAAA;AAAAqG,YAAA,CAAAlG,IAAA;AAAAkG,YAAA,CAAA/F,IAAA;AAAA+F,YAAA,CAAA7F,IAAA;AAAA6F,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}