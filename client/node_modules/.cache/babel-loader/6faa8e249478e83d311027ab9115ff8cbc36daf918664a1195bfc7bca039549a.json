{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\s0ares\\\\clinicadentaria_ai2\\\\client\\\\src\\\\views\\\\dashboard\\\\AgendamentosPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport api from '../../services/api.config';\nimport { toast } from 'react-toastify';\nimport ConsultaService from '../../services/consulta.service';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8000/api\";\nconst Container = styled.div`\n  padding: 2rem;\n`;\n_c = Container;\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n`;\n_c2 = Header;\nconst Title = styled.h2`\n  font-size: 1.5rem;\n  color: #2c3e50;\n`;\n_c3 = Title;\nconst TabsContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n_c4 = TabsContainer;\nconst Tab = styled.button`\n  background-color: ${props => props.active ? '#3498db' : '#f5f5f5'};\n  color: ${props => props.active ? 'white' : '#333'};\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: ${props => props.active ? '#3498db' : '#e0e0e0'};\n  }\n`;\n_c5 = Tab;\nconst CalendarView = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  padding: 1.5rem;\n`;\n_c6 = CalendarView;\nconst ListView = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  padding: 1.5rem;\n`;\n_c7 = ListView;\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  \n  th, td {\n    padding: 0.75rem 1rem;\n    text-align: left;\n    border-bottom: 1px solid #ecf0f1;\n  }\n  \n  th {\n    background-color: #f8f9fa;\n    font-weight: 600;\n    color: #2c3e50;\n  }\n  \n  tr:last-child td {\n    border-bottom: none;\n  }\n  \n  tr:hover td {\n    background-color: #f8f9fa;\n  }\n`;\n_c8 = Table;\nconst Status = styled.span`\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  border-radius: 50px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  \n  &.agendada {\n    background-color: #fff8e1;\n    color: #ffa000;\n  }\n  \n  &.confirmada {\n    background-color: #e8f5e9;\n    color: #388e3c;\n  }\n  \n  &.finalizada {\n    background-color: #e3f2fd;\n    color: #1976d2;\n  }\n  \n  &.cancelada {\n    background-color: #ffebee;\n    color: #d32f2f;\n  }\n`;\n_c9 = Status;\nconst Button = styled.button`\n  background-color: ${props => props.color || '#3498db'};\n  color: white;\n  border: none;\n  padding: 0.35rem 0.75rem;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 0.5rem;\n  font-size: 0.8rem;\n  \n  &:hover {\n    opacity: 0.9;\n  }\n  \n  &:disabled {\n    background-color: #95a5a6;\n    cursor: not-allowed;\n  }\n`;\n_c10 = Button;\nconst CalendarHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n_c11 = CalendarHeader;\nconst CalendarMonth = styled.h3`\n  font-size: 1.25rem;\n  color: #2c3e50;\n`;\n_c12 = CalendarMonth;\nconst CalendarNav = styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;\n_c13 = CalendarNav;\nconst NavButton = styled.button`\n  background-color: #f5f5f5;\n  border: none;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: #e0e0e0;\n  }\n`;\n_c14 = NavButton;\nconst DaysGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.5rem;\n`;\n_c15 = DaysGrid;\nconst WeekDay = styled.div`\n  text-align: center;\n  font-weight: 500;\n  color: #7f8c8d;\n  padding: 0.5rem;\n`;\n_c16 = WeekDay;\nconst Day = styled.div`\n  background-color: ${props => props.isToday ? '#e3f2fd' : props.isOutsideMonth ? '#f8f9fa' : 'white'};\n  border: 1px solid ${props => props.hasEvents ? '#3498db' : '#ecf0f1'};\n  border-radius: 4px;\n  padding: 0.5rem;\n  min-height: 80px;\n  position: relative;\n  \n  .day-number {\n    font-weight: ${props => props.isToday ? '600' : '400'};\n    color: ${props => props.isOutsideMonth ? '#bdc3c7' : '#2c3e50'};\n  }\n  \n  &:hover {\n    border-color: #3498db;\n  }\n`;\n_c17 = Day;\nconst EventDot = styled.div`\n  width: 8px;\n  height: 8px;\n  background-color: #3498db;\n  border-radius: 50%;\n  display: inline-block;\n  margin-left: 4px;\n`;\n_c18 = EventDot;\nconst AgendamentosPage = () => {\n  _s();\n  const [view, setView] = useState('calendar'); // 'calendar' or 'list'\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [consultas, setConsultas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const statusClassMap = {\n    'Agendada': 'agendada',\n    'Confirmada': 'confirmada',\n    'Finalizada': 'finalizada',\n    'Cancelada': 'cancelada'\n  };\n  useEffect(() => {\n    fetchConsultas();\n  }, []);\n  const fetchConsultas = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('agendamentos');\n      setConsultas(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Erro ao carregar consultas:', error);\n      setLoading(false);\n      toast.error('Erro ao carregar consultas');\n    }\n  };\n  const previousMonth = () => {\n    setCurrentDate(date => {\n      const newDate = new Date(date);\n      newDate.setMonth(date.getMonth() - 1);\n      return newDate;\n    });\n  };\n  const nextMonth = () => {\n    setCurrentDate(date => {\n      const newDate = new Date(date);\n      newDate.setMonth(date.getMonth() + 1);\n      return newDate;\n    });\n  };\n  const getMonthName = () => {\n    return currentDate.toLocaleDateString('pt-PT', {\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n  const getDaysInMonth = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n\n    // Primeiro dia do mês\n    const firstDay = new Date(year, month, 1);\n    // Último dia do mês\n    const lastDay = new Date(year, month + 1, 0);\n\n    // Dias do mês anterior para completar a primeira semana\n    const daysFromPrevMonth = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;\n\n    // Array para armazenar todos os dias a serem mostrados\n    const allDays = [];\n\n    // Adicionar dias do mês anterior\n    for (let i = daysFromPrevMonth - 1; i >= 0; i--) {\n      const day = new Date(year, month, -i);\n      allDays.push({\n        date: day,\n        isCurrentMonth: false,\n        isToday: isSameDay(day, new Date())\n      });\n    }\n\n    // Adicionar dias do mês atual\n    for (let i = 1; i <= lastDay.getDate(); i++) {\n      const day = new Date(year, month, i);\n      allDays.push({\n        date: day,\n        isCurrentMonth: true,\n        isToday: isSameDay(day, new Date())\n      });\n    }\n\n    // Adicionar dias do próximo mês para completar a última semana\n    const daysNeeded = 42 - allDays.length; // 6 semanas * 7 dias = 42\n    for (let i = 1; i <= daysNeeded; i++) {\n      const day = new Date(year, month + 1, i);\n      allDays.push({\n        date: day,\n        isCurrentMonth: false,\n        isToday: isSameDay(day, new Date())\n      });\n    }\n    return allDays;\n  };\n  const isSameDay = (date1, date2) => {\n    return date1.getDate() === date2.getDate() && date1.getMonth() === date2.getMonth() && date1.getFullYear() === date2.getFullYear();\n  };\n  const handleConfirmarConsulta = async id => {\n    try {\n      await ConsultaService.updateConsulta(id, {\n        status_id: 2\n      }); // Assumindo que 2 é o ID do status \"Confirmada\"\n      fetchConsultas(); // Recarregar consultas após a confirmação\n    } catch (error) {\n      console.error('Erro ao confirmar consulta:', error);\n    }\n  };\n  const handleFinalizarConsulta = async id => {\n    try {\n      await ConsultaService.updateConsulta(id, {\n        status_id: 3\n      }); // Assumindo que 3 é o ID do status \"Finalizada\"\n      fetchConsultas();\n    } catch (error) {\n      console.error('Erro ao finalizar consulta:', error);\n    }\n  };\n  const handleCancelarConsulta = async id => {\n    if (window.confirm('Tem certeza que deseja cancelar esta consulta?')) {\n      try {\n        await ConsultaService.cancelConsulta(id);\n        fetchConsultas();\n      } catch (error) {\n        console.error('Erro ao cancelar consulta:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Gest\\xE3o de Consultas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          active: view === 'calendar',\n          onClick: () => setView('calendar'),\n          children: \"Calend\\xE1rio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          active: view === 'list',\n          onClick: () => setView('list'),\n          children: \"Lista\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), view === 'calendar' ? /*#__PURE__*/_jsxDEV(CalendarView, {\n      children: [/*#__PURE__*/_jsxDEV(CalendarHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CalendarMonth, {\n          children: getMonthName()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CalendarNav, {\n          children: [/*#__PURE__*/_jsxDEV(NavButton, {\n            onClick: previousMonth,\n            children: \"<\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(NavButton, {\n            onClick: nextMonth,\n            children: \">\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DaysGrid, {\n        children: [['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'].map(day => /*#__PURE__*/_jsxDEV(WeekDay, {\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }, this)), getDaysInMonth().map((day, index) => /*#__PURE__*/_jsxDEV(Day, {\n          isToday: day.isToday,\n          isOutsideMonth: !day.isCurrentMonth,\n          hasEvents: consultas.some(consulta => isSameDay(new Date(consulta.data_hora), day.date)),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"day-number\",\n            children: [day.date.getDate(), consultas.some(consulta => isSameDay(new Date(consulta.data_hora), day.date)) && /*#__PURE__*/_jsxDEV(EventDot, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ListView, {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Carregando consultas...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Hora\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Paciente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xE9dico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"A\\xE7\\xF5es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: consultas.length > 0 ? consultas.map(consulta => {\n            var _consulta$cliente, _consulta$medico, _consulta$status, _consulta$status2, _consulta$status3, _consulta$status4;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(consulta.data_hora).toLocaleDateString('pt-PT')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(consulta.data_hora).toLocaleTimeString('pt-PT', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_consulta$cliente = consulta.cliente) === null || _consulta$cliente === void 0 ? void 0 : _consulta$cliente.nome) || 'Cliente'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_consulta$medico = consulta.medico) === null || _consulta$medico === void 0 ? void 0 : _consulta$medico.nome) || 'Médico'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Status, {\n                  className: statusClassMap[(_consulta$status = consulta.status) === null || _consulta$status === void 0 ? void 0 : _consulta$status.nome] || 'agendada',\n                  children: ((_consulta$status2 = consulta.status) === null || _consulta$status2 === void 0 ? void 0 : _consulta$status2.nome) || 'Agendada'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [((_consulta$status3 = consulta.status) === null || _consulta$status3 === void 0 ? void 0 : _consulta$status3.nome) === 'Agendada' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => handleConfirmarConsulta(consulta.id),\n                    children: \"Confirmar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"#e74c3c\",\n                    onClick: () => handleCancelarConsulta(consulta.id),\n                    children: \"Cancelar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true), ((_consulta$status4 = consulta.status) === null || _consulta$status4 === void 0 ? void 0 : _consulta$status4.nome) === 'Confirmada' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    color: \"#2ecc71\",\n                    onClick: () => handleFinalizarConsulta(consulta.id),\n                    children: \"Finalizar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"#e74c3c\",\n                    onClick: () => handleCancelarConsulta(consulta.id),\n                    children: \"Cancelar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 23\n              }, this)]\n            }, consulta.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 21\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"6\",\n              style: {\n                textAlign: 'center'\n              },\n              children: \"Nenhuma consulta encontrada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 5\n  }, this);\n};\n_s(AgendamentosPage, \"duSwDJVcKRW37M2LIbqOrWjO2lQ=\");\n_c19 = AgendamentosPage;\nexport default AgendamentosPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"TabsContainer\");\n$RefreshReg$(_c5, \"Tab\");\n$RefreshReg$(_c6, \"CalendarView\");\n$RefreshReg$(_c7, \"ListView\");\n$RefreshReg$(_c8, \"Table\");\n$RefreshReg$(_c9, \"Status\");\n$RefreshReg$(_c10, \"Button\");\n$RefreshReg$(_c11, \"CalendarHeader\");\n$RefreshReg$(_c12, \"CalendarMonth\");\n$RefreshReg$(_c13, \"CalendarNav\");\n$RefreshReg$(_c14, \"NavButton\");\n$RefreshReg$(_c15, \"DaysGrid\");\n$RefreshReg$(_c16, \"WeekDay\");\n$RefreshReg$(_c17, \"Day\");\n$RefreshReg$(_c18, \"EventDot\");\n$RefreshReg$(_c19, \"AgendamentosPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","api","toast","ConsultaService","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","Container","div","_c","Header","_c2","Title","h2","_c3","TabsContainer","_c4","Tab","button","props","active","_c5","CalendarView","_c6","ListView","_c7","Table","table","_c8","Status","span","_c9","Button","color","_c10","CalendarHeader","_c11","CalendarMonth","h3","_c12","CalendarNav","_c13","NavButton","_c14","DaysGrid","_c15","WeekDay","_c16","Day","isToday","isOutsideMonth","hasEvents","_c17","EventDot","_c18","AgendamentosPage","_s","view","setView","currentDate","setCurrentDate","Date","consultas","setConsultas","loading","setLoading","statusClassMap","fetchConsultas","response","get","data","error","console","previousMonth","date","newDate","setMonth","getMonth","nextMonth","getMonthName","toLocaleDateString","month","year","getDaysInMonth","getFullYear","firstDay","lastDay","daysFromPrevMonth","getDay","allDays","i","day","push","isCurrentMonth","isSameDay","getDate","daysNeeded","length","date1","date2","handleConfirmarConsulta","id","updateConsulta","status_id","handleFinalizarConsulta","handleCancelarConsulta","window","confirm","cancelConsulta","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","index","some","consulta","data_hora","className","_consulta$cliente","_consulta$medico","_consulta$status","_consulta$status2","_consulta$status3","_consulta$status4","toLocaleTimeString","hour","minute","cliente","nome","medico","status","colSpan","style","textAlign","_c19","$RefreshReg$"],"sources":["C:/Users/s0ares/clinicadentaria_ai2/client/src/views/dashboard/AgendamentosPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport api from '../../services/api.config';\nimport { toast } from 'react-toastify';\nimport ConsultaService from '../../services/consulta.service';\n\nconst API_URL = \"http://localhost:8000/api\";\n\nconst Container = styled.div`\n  padding: 2rem;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n`;\n\nconst Title = styled.h2`\n  font-size: 1.5rem;\n  color: #2c3e50;\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n\nconst Tab = styled.button`\n  background-color: ${props => props.active ? '#3498db' : '#f5f5f5'};\n  color: ${props => props.active ? 'white' : '#333'};\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: ${props => props.active ? '#3498db' : '#e0e0e0'};\n  }\n`;\n\nconst CalendarView = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  padding: 1.5rem;\n`;\n\nconst ListView = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  padding: 1.5rem;\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  \n  th, td {\n    padding: 0.75rem 1rem;\n    text-align: left;\n    border-bottom: 1px solid #ecf0f1;\n  }\n  \n  th {\n    background-color: #f8f9fa;\n    font-weight: 600;\n    color: #2c3e50;\n  }\n  \n  tr:last-child td {\n    border-bottom: none;\n  }\n  \n  tr:hover td {\n    background-color: #f8f9fa;\n  }\n`;\n\nconst Status = styled.span`\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  border-radius: 50px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  \n  &.agendada {\n    background-color: #fff8e1;\n    color: #ffa000;\n  }\n  \n  &.confirmada {\n    background-color: #e8f5e9;\n    color: #388e3c;\n  }\n  \n  &.finalizada {\n    background-color: #e3f2fd;\n    color: #1976d2;\n  }\n  \n  &.cancelada {\n    background-color: #ffebee;\n    color: #d32f2f;\n  }\n`;\n\nconst Button = styled.button`\n  background-color: ${props => props.color || '#3498db'};\n  color: white;\n  border: none;\n  padding: 0.35rem 0.75rem;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 0.5rem;\n  font-size: 0.8rem;\n  \n  &:hover {\n    opacity: 0.9;\n  }\n  \n  &:disabled {\n    background-color: #95a5a6;\n    cursor: not-allowed;\n  }\n`;\n\nconst CalendarHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nconst CalendarMonth = styled.h3`\n  font-size: 1.25rem;\n  color: #2c3e50;\n`;\n\nconst CalendarNav = styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;\n\nconst NavButton = styled.button`\n  background-color: #f5f5f5;\n  border: none;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: #e0e0e0;\n  }\n`;\n\nconst DaysGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.5rem;\n`;\n\nconst WeekDay = styled.div`\n  text-align: center;\n  font-weight: 500;\n  color: #7f8c8d;\n  padding: 0.5rem;\n`;\n\nconst Day = styled.div`\n  background-color: ${props => props.isToday ? '#e3f2fd' : props.isOutsideMonth ? '#f8f9fa' : 'white'};\n  border: 1px solid ${props => props.hasEvents ? '#3498db' : '#ecf0f1'};\n  border-radius: 4px;\n  padding: 0.5rem;\n  min-height: 80px;\n  position: relative;\n  \n  .day-number {\n    font-weight: ${props => props.isToday ? '600' : '400'};\n    color: ${props => props.isOutsideMonth ? '#bdc3c7' : '#2c3e50'};\n  }\n  \n  &:hover {\n    border-color: #3498db;\n  }\n`;\n\nconst EventDot = styled.div`\n  width: 8px;\n  height: 8px;\n  background-color: #3498db;\n  border-radius: 50%;\n  display: inline-block;\n  margin-left: 4px;\n`;\n\nconst AgendamentosPage = () => {\n  const [view, setView] = useState('calendar'); // 'calendar' or 'list'\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [consultas, setConsultas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  \n  const statusClassMap = {\n    'Agendada': 'agendada',\n    'Confirmada': 'confirmada',\n    'Finalizada': 'finalizada',\n    'Cancelada': 'cancelada'\n  };\n  \n  useEffect(() => {\n    fetchConsultas();\n  }, []);\n  \n  const fetchConsultas = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('agendamentos');\n      setConsultas(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Erro ao carregar consultas:', error);\n      setLoading(false);\n      toast.error('Erro ao carregar consultas');\n    }\n  };\n  \n  const previousMonth = () => {\n    setCurrentDate(date => {\n      const newDate = new Date(date);\n      newDate.setMonth(date.getMonth() - 1);\n      return newDate;\n    });\n  };\n  \n  const nextMonth = () => {\n    setCurrentDate(date => {\n      const newDate = new Date(date);\n      newDate.setMonth(date.getMonth() + 1);\n      return newDate;\n    });\n  };\n  \n  const getMonthName = () => {\n    return currentDate.toLocaleDateString('pt-PT', { month: 'long', year: 'numeric' });\n  };\n  \n  const getDaysInMonth = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    \n    // Primeiro dia do mês\n    const firstDay = new Date(year, month, 1);\n    // Último dia do mês\n    const lastDay = new Date(year, month + 1, 0);\n    \n    // Dias do mês anterior para completar a primeira semana\n    const daysFromPrevMonth = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;\n    \n    // Array para armazenar todos os dias a serem mostrados\n    const allDays = [];\n    \n    // Adicionar dias do mês anterior\n    for (let i = daysFromPrevMonth - 1; i >= 0; i--) {\n      const day = new Date(year, month, -i);\n      allDays.push({\n        date: day,\n        isCurrentMonth: false,\n        isToday: isSameDay(day, new Date())\n      });\n    }\n    \n    // Adicionar dias do mês atual\n    for (let i = 1; i <= lastDay.getDate(); i++) {\n      const day = new Date(year, month, i);\n      allDays.push({\n        date: day,\n        isCurrentMonth: true,\n        isToday: isSameDay(day, new Date())\n      });\n    }\n    \n    // Adicionar dias do próximo mês para completar a última semana\n    const daysNeeded = 42 - allDays.length; // 6 semanas * 7 dias = 42\n    for (let i = 1; i <= daysNeeded; i++) {\n      const day = new Date(year, month + 1, i);\n      allDays.push({\n        date: day,\n        isCurrentMonth: false,\n        isToday: isSameDay(day, new Date())\n      });\n    }\n    \n    return allDays;\n  };\n  \n  const isSameDay = (date1, date2) => {\n    return date1.getDate() === date2.getDate() &&\n           date1.getMonth() === date2.getMonth() &&\n           date1.getFullYear() === date2.getFullYear();\n  };\n  \n  const handleConfirmarConsulta = async (id) => {\n    try {\n      await ConsultaService.updateConsulta(id, { status_id: 2 }); // Assumindo que 2 é o ID do status \"Confirmada\"\n      fetchConsultas(); // Recarregar consultas após a confirmação\n    } catch (error) {\n      console.error('Erro ao confirmar consulta:', error);\n    }\n  };\n  \n  const handleFinalizarConsulta = async (id) => {\n    try {\n      await ConsultaService.updateConsulta(id, { status_id: 3 }); // Assumindo que 3 é o ID do status \"Finalizada\"\n      fetchConsultas();\n    } catch (error) {\n      console.error('Erro ao finalizar consulta:', error);\n    }\n  };\n  \n  const handleCancelarConsulta = async (id) => {\n    if (window.confirm('Tem certeza que deseja cancelar esta consulta?')) {\n      try {\n        await ConsultaService.cancelConsulta(id);\n        fetchConsultas();\n      } catch (error) {\n        console.error('Erro ao cancelar consulta:', error);\n      }\n    }\n  };\n  \n  return (\n    <Container>\n      <Header>\n        <Title>Gestão de Consultas</Title>\n        <TabsContainer>\n          <Tab \n            active={view === 'calendar'}\n            onClick={() => setView('calendar')}\n          >\n            Calendário\n          </Tab>\n          <Tab \n            active={view === 'list'}\n            onClick={() => setView('list')}\n          >\n            Lista\n          </Tab>\n        </TabsContainer>\n      </Header>\n      \n      {view === 'calendar' ? (\n        <CalendarView>\n          <CalendarHeader>\n            <CalendarMonth>{getMonthName()}</CalendarMonth>\n            <CalendarNav>\n              <NavButton onClick={previousMonth}>&lt;</NavButton>\n              <NavButton onClick={nextMonth}>&gt;</NavButton>\n            </CalendarNav>\n          </CalendarHeader>\n          \n          <DaysGrid>\n            {['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'].map(day => (\n              <WeekDay key={day}>{day}</WeekDay>\n            ))}\n            \n            {getDaysInMonth().map((day, index) => (\n              <Day \n                key={index} \n                isToday={day.isToday}\n                isOutsideMonth={!day.isCurrentMonth}\n                hasEvents={consultas.some(consulta => \n                  isSameDay(new Date(consulta.data_hora), day.date)\n                )}\n              >\n                <div className=\"day-number\">\n                  {day.date.getDate()}\n                  {consultas.some(consulta => \n                    isSameDay(new Date(consulta.data_hora), day.date)\n                  ) && <EventDot />}\n                </div>\n              </Day>\n            ))}\n          </DaysGrid>\n        </CalendarView>\n      ) : (\n        <ListView>\n          {loading ? (\n            <p>Carregando consultas...</p>\n          ) : (\n            <Table>\n              <thead>\n                <tr>\n                  <th>Data</th>\n                  <th>Hora</th>\n                  <th>Paciente</th>\n                  <th>Médico</th>\n                  <th>Status</th>\n                  <th>Ações</th>\n                </tr>\n              </thead>\n              <tbody>\n                {consultas.length > 0 ? (\n                  consultas.map(consulta => (\n                    <tr key={consulta.id}>\n                      <td>\n                        {new Date(consulta.data_hora).toLocaleDateString('pt-PT')}\n                      </td>\n                      <td>\n                        {new Date(consulta.data_hora).toLocaleTimeString('pt-PT', {\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })}\n                      </td>\n                      <td>{consulta.cliente?.nome || 'Cliente'}</td>\n                      <td>{consulta.medico?.nome || 'Médico'}</td>\n                      <td>\n                        <Status className={statusClassMap[consulta.status?.nome] || 'agendada'}>\n                          {consulta.status?.nome || 'Agendada'}\n                        </Status>\n                      </td>\n                      <td>\n                        {consulta.status?.nome === 'Agendada' && (\n                          <>\n                            <Button onClick={() => handleConfirmarConsulta(consulta.id)}>\n                              Confirmar\n                            </Button>\n                            <Button \n                              color=\"#e74c3c\"\n                              onClick={() => handleCancelarConsulta(consulta.id)}\n                            >\n                              Cancelar\n                            </Button>\n                          </>\n                        )}\n                        {consulta.status?.nome === 'Confirmada' && (\n                          <>\n                            <Button \n                              color=\"#2ecc71\"\n                              onClick={() => handleFinalizarConsulta(consulta.id)}\n                            >\n                              Finalizar\n                            </Button>\n                            <Button \n                              color=\"#e74c3c\"\n                              onClick={() => handleCancelarConsulta(consulta.id)}\n                            >\n                              Cancelar\n                            </Button>\n                          </>\n                        )}\n                      </td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan=\"6\" style={{ textAlign: 'center' }}>\n                      Nenhuma consulta encontrada\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </Table>\n          )}\n        </ListView>\n      )}\n    </Container>\n  );\n};\n\nexport default AgendamentosPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}